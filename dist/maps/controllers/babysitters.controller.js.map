{"version":3,"sources":["controllers/babysitters.controller.js"],"names":["app","controller","$scope","$state","$rootScope","$toast","$firebaseObject","$mdDialog","$anchorScroll","amount","babysittersLoaded","update","scrollDown","babysittersRef","database","child","limitToFirst","babysitters","$loaded","console","log","setTimeout","window","scrollTo","document","body","scrollHeight","loadMore","email","location","href","updateAge","ms","date","moment","Date","age","fromNow","moreInfo","babysitter","key","event","uid","birthday","show","contentElement","parent","angular","element","targetEvent","clickOutsideToClose","bindToController","fullscreen","closeDialog","hide"],"mappings":"AAAAA,IAAIC,WAAW,mBACb,SAAU,SAAU,aAAc,SAAU,kBAAkB,YAAa,gBAC5E,SAASC,EAAQC,EAAQC,EAAYC,EAAQC,EAAiBC,EAAWC,GAExEN,EAAOO,OAAS,GAChBP,EAAOQ,mBAAoB,EAE3BR,EAAOS,OAAS,SAASF,EAAQG,GAChCV,EAAOQ,mBAAoB,CAC3B,IAAIG,GAAiBT,EAAWU,SAASC,MAAM,oBAAoBC,aAAaP,EAChFP,GAAOe,YAAcX,EAAgBO,GACrCX,EAAOe,YAAYC,QAAQ,WAC1BhB,EAAOQ,mBAAoB,EACxBE,IACFO,QAAQC,IAAI,kBACZC,WAAW,WACVC,OAAOC,SAAS,EAAEC,SAASC,KAAKC,oBAMpCxB,EAAOS,OAAOT,EAAOO,QAAQ,GAE7BP,EAAOyB,SAAW,WACjBzB,EAAOO,QAAU,GACjBP,EAAOS,OAAOT,EAAOO,QAAQ,GAC7BU,QAAQC,IAAIlB,EAAOO,SAGpBP,EAAO0B,MAAQ,SAASA,GACvBC,SAASC,KAAO,UAAYF,EAAQ,gCAGpC1B,EAAO6B,UAAY,SAASC,GAC5B,GAAIC,GAAOC,OAAO,GAAIC,MAAKH,IACvBI,EAAMF,OAAOD,GAAMI,SAAQ,EAC/B,OAAOD,IAGRlC,EAAOoC,SAAW,SAASC,EAAYC,EAAKC,GAC3CtB,QAAQC,IAAImB,GACZrC,EAAOwC,IAAMF,EACbtC,EAAOqC,WAAaA,EACpBrC,EAAOqC,WAAWH,IAAMlC,EAAO6B,UAAU7B,EAAOqC,WAAWI,UAExDpC,EAAUqC,MACTC,eAAgB,oBAChBC,OAAQC,QAAQC,QAAQxB,SAASC,MACjCwB,YAAaR,EACbS,qBAAqB,EACrBC,kBAAkB,EAClBC,YAAY,KAIflD,EAAOmD,YAAc,WACpB9C,EAAU+C","file":"controllers/babysitters.controller.js","sourcesContent":["app.controller('babysittersCtrl', \n\t['$scope', '$state', '$rootScope', '$toast', '$firebaseObject','$mdDialog', '$anchorScroll',\n\tfunction($scope, $state, $rootScope, $toast, $firebaseObject, $mdDialog, $anchorScroll){\n\t\t\n\t\t$scope.amount = 10;\n\t\t$scope.babysittersLoaded = false;\n\n\t\t$scope.update = function(amount, scrollDown){\n\t\t\t$scope.babysittersLoaded = false;\n\t\t\tvar babysittersRef = $rootScope.database.child('babysittersTest/').limitToFirst(amount);\n\t\t\t$scope.babysitters = $firebaseObject(babysittersRef);\n\t\t\t$scope.babysitters.$loaded(function(){\n\t\t\t\t$scope.babysittersLoaded = true;\n\t\t\t\tif(scrollDown){\n\t\t\t\t\tconsole.log(\"scrolling down\");\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\twindow.scrollTo(0,document.body.scrollHeight);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\t$scope.update($scope.amount, false);\n\n\t\t$scope.loadMore = function(){\n\t\t\t$scope.amount += 15;\n\t\t\t$scope.update($scope.amount, true);\n\t\t\tconsole.log($scope.amount);\n\t\t}\n\n\t\t$scope.email = function(email){\n\t\t\tlocation.href = \"mailto:\" + email + \"?Subject=Regarding a booking\";\n\t\t}\n\n\t\t $scope.updateAge = function(ms){\n\t\t\tvar date = moment(new Date(ms));\n\t\t\tvar age = moment(date).fromNow(true);\t\n\t\t\treturn age;\n\t\t}\n\n\t\t$scope.moreInfo = function(babysitter, key, event) {\n\t\t\tconsole.log(babysitter);\n\t\t\t$scope.uid = key;\n\t\t\t$scope.babysitter = babysitter;\n\t\t\t$scope.babysitter.age = $scope.updateAge($scope.babysitter.birthday);\n\n\t\t    $mdDialog.show({\n\t\t    \tcontentElement: '#babySitterDialog',\n\t\t    \tparent: angular.element(document.body),\n\t\t    \ttargetEvent: event,\n\t\t    \tclickOutsideToClose: true,\n\t\t    \tbindToController: true,\n\t\t    \tfullscreen: true\n\t\t    });\n\t\t  };\n\n\t\t  $scope.closeDialog = function(){\n\t\t  \t$mdDialog.hide();\n\t\t  }\n\n\t\t\n}]);\n\t"],"sourceRoot":"/source/"}